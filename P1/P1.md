#  Práctica 1

##  Entrada/Salida utilizando interrupciones con lenguaje C

###  Mauricio Luque Jiménez

####  Funciones obligatorias

1. **gotoxy(): colocar le cursos en una posición determinada**

	Para este ejercicio, la función va a constar de dos argumentos: la coordenada _x_ y la coordenada _y_.
	Estas coordenadas se enviarán a los registros DH y DL, respectivamente.  Además, anteriormente vamos a indicar que la función a la que se llama es la función 2 mediante el registro AH, mientras que BH lo dejamos a 0. Finalmente, llamamos a la función int86() con el número de interrupción 0x10.
	
2. **setcursortype(): fijar el aspecto del cursor**
	
	Para este ejercicio, la función va a constar de un único argumento: el tipo de cursor que queremos fijar. Con el fin de evitar problemas a la hora de leer el tipo de cursor, ese argumetno será de tipo carácter. Para el cursor invisible fijamos el valor 0, para el cursor normal el 1 y para el cursor grueso el 2. Indicamos la función 1 en el registro AH y hacemos un _switch-case_ en función del argumento _tipo_, en el que variarán los registros CH y CL. Finalmente, llamamos a la función int86() con el número de interrupción 0x10.
	
3. **setvideomode(): fijar el modo de vídeo**

	Para este ejercicio. la función va a constar de un único argumento: el modo de vídeo que queremos fijar. Este argumento, de tipo carácter, irá al registro AL, mientras que el registro AH marcará que se usa la función 0. Así pues, el modo de vídeo quedará fijado hasta que se vuelva a cambiar posteriormente llamando de nuevo a la función.

4. **getvideomode(): obtener el modo de vídeo**

	Para este ejercicio, la función no consta de ningún argumento, sino que devuelve el modo de vídeo actual. De esta manera, lo único que hay que hacer es indicar el número de función, que es el 15, y devolver el registro AL como salida de la función.

5. **textcolor() y textbackground(): modificar el color de primer plano y el fondo**
	
	Estas funciones son bastante simples puesto que la complejidad de su funcionamiento reside en la función _cputchar()_. Por consecuente, estas funciones se limitan a modificar (mediante los argumentos de sendas funciones) las variables globales de _texto_ y _fondo_ con las que se fijan los colores del texto y el fondo

6. **clrscr(): borrar toda la pantalla**

	Para este ejercicio, no se requiere ningún argumento: únicamente se modifican registros. De esta manera, con el registro AH se indica el número de función (6 en este caso) y mediante el registro AL se indican cuántas líneas se quieren desplazar en vertical hacia arriba. Como la idea es despejar toda la pantalla, fijamos un número alto para que se desplace todo el contenido existente en pantalla. Fijamos BH a 0 y a continuación indicamos la zona despejada: con CH y CL fijamos las coordenadas de la esquina superior izquierda y con DH y DL fijamos las de la esquina inferior derecha. Así pues, CH y CL toman valor 0 y DH y DL toman el mínimo valor necesario para que no quede ningún valor anterior en pantalla.

7. **cputchar(): escribir un carácter en pantalla**

	Para este ejercicio, se necesita un argumento: el carácter que se quiere imprimir por pantalla, que se indica en el registro AL. Por lo demás, en el registro AH se indica que se hace uso de la función 9, fijamos BH a 0 y en BL fijamos tanto los colores del texto como del fondo. Los primeros cuatro bits del registro van destinados al color del fondo (y al parpadeo del carácter), mientras que el color del texto se fija con los últimos cuatro bits. Cada valor se asigna en función de las variables globales que se modifican con las funciones anteriormente mencionadas _textcolor()_ y _textbackground()_. Por último, en el registro CX se indica el número de repeticiones del carácter que se pasa como argumento y se guarda en el registro AL.
	
8. **getche(): obtener un carácter de teclado (y mostrarlo)**
	
	Para este ejercicio, no se requieren argumentos, puesto que va implícito en el registro de salida AL. En este caso, lo único que hay que indicar es el número de función la interrupción a la que se llama con int86(). Aquí hay dos opciones: para mostrar la tecla pulsada inmediatamente después de pulsarla (como al escribir normal), la función a indicar en el registro AH es 1, y la interrupción correspondiente es 0x21. Por otra parte, si no se quiere mostrar la tecla pulsada, el valor correcto de AH es 0, y la interrupción 0x16. En este caso, vamos a quedarnos con la primera opción para que se muestre en pantalla la tecla pulsada.